/*
 Copyright (c) 2015, Ben Schulz
 License: BSD 3-clause (http://opensource.org/licenses/BSD-3-Clause)
*/
function n(f,m){return function(h){return h}(function(h,e,k,f){var l=window.document,m=window.requestAnimationFrame.bind(window),p=window.cancelAnimationFrame.bind(window);k.defineExtension("ko-grid-height-adjuster",{v:["ko-grid-view-state-storage"],w:function(b){return b.after("grid").insert("height-adjuster",f)},t:function(b,c,a){this.g=a.rootElement.classList.contains("fixed-height")?a.rootElement.style.height:"auto";this.f=void 0;this.b=e.observable(this.g);var d=this.b.subscribe(function(b){var c=
a.extensions["ko-grid-paging"];"auto"===b?(a.rootElement.classList.remove("fixed-height"),c&&"fit"===c.pageSize.desired()&&(this.f=c.pageSize.desired(),c.pageSize.desired(Number.POSITIVE_INFINITY))):this.f&&(a.rootElement.classList.add("fixed-height"),c.pageSize.desired(this.f),this.f=void 0);a.rootElement.style.height=b;a.layout.recalculate()}.bind(this));a.extensions["ko-grid-view-state-storage"].modeIndependent.bind("height",this.b);this.dispose=function(){d.dispose()}}});e.bindingHandlers.__gridHeightAdjuster=
{init:function(b,c,a,d,e){var f=e.grid,h=c();c();b.addEventListener("click",function(a){return a.preventDefault()});b.addEventListener("mousedown",function(a){function c(){h.b(Math.max(k,e+q-r)+"px")}function b(d){q=d.pageY;g&&p(g);g=m(c);a.preventDefault()}function d(){g&&p(g);l.removeEventListener("mousemove",b);l.removeEventListener("mouseup",d)}if("BUTTON"!==a.target.tagName){a.preventDefault();var e=f.element.offsetHeight,k=f.element.offsetHeight-f.element.querySelector(".ko-grid-table-scroller").offsetHeight+
50,r=a.pageY,q=r,g=0;l.addEventListener("mousemove",b);l.addEventListener("mouseup",d)}})},update:function(){}};e.bindingHandlers.__gridHeightResetter={init:function(b,c){var a=c();"auto"!==a.g&&b.addEventListener("click",function(b){b.preventDefault();a.b(a.g)})},update:function(b,c){var a=c(),d=a.g;b.disabled="auto"===d||a.b()===d}};e.bindingHandlers.__gridHeightClearer={init:function(b,c){var a=c();b.addEventListener("click",function(b){b.preventDefault();a.b("auto")})},update:function(b,c){var a=
c().b();b.disabled="auto"===a}};return k.declareExtensionAlias("heightAdjuster","ko-grid-height-adjuster")}({},f,m,'<div class="ko-grid-height-adjuster" data-bind="__gridHeightAdjuster: grid.extensions.heightAdjuster">\n    <div class="ko-grid-height-adjuster-buttons">\n        <button class="ko-grid-height-adjuster-button ko-grid-height-resetter" tabIndex="-1" data-bind="__gridHeightResetter: grid.extensions.heightAdjuster">Clear height</button>\n        <button class="ko-grid-height-adjuster-button ko-grid-height-clearer" tabIndex="-1" data-bind="__gridHeightClearer: grid.extensions.heightAdjuster">Reset height</button>\n    </div>\n</div>'))}
"function"===typeof define&&define.amd?define("knockout ko-grid ko-grid-paging ko-grid-view-state-storage ko-data-source ko-indexed-repeat ko-grid-view-modes".split(" "),n):window["ko-grid-height-adjuster"]=n(window.ko,window.ko.bindingHandlers.grid);